NAME     = philo
SRCS_DIR = sources
OBJS_DIR = objs
SRCFILES	:= $(wildcard $(SRCS_DIR)/*.c)
OBJFILES	= $(patsubst $(SRCS_DIR)/%.c, $(OBJS_DIR)/%.o, $(SRCFILES))

PINK 		:= \033[38;5;218m
			
CC       = cc
CFLAGS   =  -Wall -Wextra -Werror -pthread
HEADERS  = header/philosophers.h

all: $(OBJS_DIR) $(NAME)

$(OBJS_DIR):
	@mkdir -p $(OBJS_DIR)
	
${OBJS_DIR}/%.o: ${SRCS_DIR}/%.c | $(OBJS_DIR)
	@${CC} ${CFLAGS} -c $< -o $@

${NAME}: $(OBJFILES) ${HEADERS}
	@$(CC) $(CFLAGS) $(OBJFILES) -o $(NAME)
	@echo "$(PINK)🍳 Preparing the kitchen for the philosophers... 🍳\033[0m"
	@echo "$(PINK)🍝 The restaurant has opened! 🍝 ‧₊˚ ⋅ 𓐐𓎩 ‧₊˚ ⋅ · \033[0m"
	@echo "\033[33m$$ART\033[0m"

clean:
	@rm -rf $(OBJS_DIR)

fclean: clean
	@rm -rf $(NAME)

re: fclean all

.PHONY:	all clean fclean re bonus

define ART

                                                                                                              
                                                \e[93m██████                                                        
                                  ███████   ███████  ███████   ██                                                   
                                  ███████   ███████  ███████   █████                                                
                                            ███████  ███████   █████████                     ████████████████       
                                 ████████   ███████  ███████   ███████████████████████████████████████████████      
                                 ████████   ███████  ███████   ███████████████████████████████████████████████      
                                            ███████  ███████   ███████████████████████████████████████████████      
                                            ███████  ███████   ███████                               ███████        
                                 ████████   ███████  ███████   ████                                                 
                                            ███████  ███████   ██                                                   
                                            ███████  ███████                                                        
                                            ███████  ███████                                                        
                                            ███████  ███████                                                        
                                            ███████  ███████                                                        
                                            ███████   ██████                                                        
                                            ███████                                                                 
                                            ███████                                                                 
                                            ███████                                                                 
                                            ███████              ███████████                                        
                              ███████       ███████   ██████      ██████████████    ███                             
                         ███████████████    ███████   █████████     ██████████████   ██████                         
                      ██████████████████    ███████   ███████████          █████████   ██████                       
      █████████     █████████        ███    ███████        ████████          ████████   ██████████████              
      █████████████████████                 ███████          ███████    ██     ███████ ███████████████              
      ███████████████████████████████       ███████   ████    ██████    ██████████████████████████████              
       ██████████████████████████████████████████████████████████████████████████████████████████████               
       █████████████████████████████████████████████████████████████████████████████████████████████               
        ████████████████████████████████████████████████████████████████████████████████████████████                
         ██████████████████████████████████████████████████████████████████████████████████████████                 
             ██████████████████████████████████████████████████████████████████████████████████                     
                    ██████████████████████████████████████████████████████████████████████                          
                          █████████████████████████████████████████████████████████                                 
                                     ████████████████████████████████████\033[0m                                                                                                                                                                                                                                                                                           
endef
export ART
